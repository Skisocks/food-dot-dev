{{ define "main" }}
<div class="recipes-list-page">
  <header class="page-header">
    <h1>{{ .Title }}</h1>
    {{ with .Params.description }}
    <p class="page-description">{{ . }}</p>
    {{ end }}
  </header>

  <div class="recipes-grid">
    {{ range .Pages }}
    <article class="recipe-card">
      {{ if .Params.featured_image }}
      <div class="recipe-card-image">
        <a href="{{ .Permalink }}">
          <img src="{{ .Params.featured_image }}" alt="{{ .Title }}">
        </a>
      </div>
      {{ else }}
      <div class="recipe-card-image recipe-card-placeholder">
        <a href="{{ .Permalink }}">
          <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <path d="M12 2L2 7l10 5 10-5-10-5z"></path>
            <path d="M2 17l10 5 10-5"></path>
            <path d="M2 12l10 5 10-5"></path>
          </svg>
        </a>
      </div>
      {{ end }}

      <div class="recipe-card-content">
        <h2 class="recipe-card-title">
          <a href="{{ .Permalink }}">{{ .Title }}</a>
        </h2>

        <div class="recipe-card-meta">
          {{ with .Params.prepTime }}
          <span class="meta-badge">⏱️ {{ . }}</span>
          {{ end }}
          {{ with .Params.difficulty }}
          <span class="meta-badge difficulty-{{ lower . }}">{{ . }}</span>
          {{ end }}
        </div>

        {{ with .Params.categories }}
        <div class="recipe-card-categories">
          {{ range first 2 . }}
          <span class="category-badge">{{ . }}</span>
          {{ end }}
        </div>
        {{ end }}

        {{ with .Summary }}
        <p class="recipe-card-summary">{{ . }}</p>
        {{ end }}
      </div>
    </article>
    {{ end }}
  </div>

  {{ if eq (len .Pages) 0 }}
  <div class="no-recipes">
    <p>No recipes yet. Start adding your favorite recipes!</p>
  </div>
  {{ end }}
</div>
{{ end }}
